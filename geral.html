<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Relatório Geral Moderno</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- ApexCharts JS -->
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <style>
    /* Responsividade do gráfico */
    #chart {
      max-width: 100%;
      margin: 0 auto;
    }
    body {
      background-color: #fff;
      color: #212529;
    }
  </style>
</head>
<body>
  <div class="container my-5">
    <h2 class="text-center mb-4">Relatório Geral de Gastos</h2>
    <div id="chart"></div>
  </div>

  <script>
    // Configuração de gráfico de barras moderno com ApexCharts
    var options = {
      chart: {
        type: 'bar',
        height: 350,
        background: 'transparent',
        toolbar: { show: false }
      },
      plotOptions: {
        bar: {
          borderRadius: 8,
          horizontal: false,
          columnWidth: '50%',
          distributed: false,
          dataLabels: {
            position: 'top'
          }
        }
      },
      dataLabels: {
        enabled: true,
        formatter: function(val) { 
          return "R$ " + val.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2}); 
        },
        offsetY: -20,
        style: {
          fontSize: '12px',
          colors: ["#000"]
        }
      },
      series: [{
        name: 'Valor Geral',
        data: [5686819.08, 6105182.26, 3943652.91]
      }],
      xaxis: {
        categories: ['Janeiro', 'Fevereiro', 'Março'],
        position: 'bottom',
        labels: {
          style: {
            fontSize: '14px',
            colors: ["#000"]
          }
        },
        axisBorder: { show: false },
        axisTicks: { show: false }
      },
      yaxis: {
        labels: {
          formatter: function(val) { 
            return "R$ " + val.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2}); 
          },
          style: {
            fontSize: '12px',
            colors: ["#000"]
          }
        }
      },
      fill: {
        type: 'gradient',
        gradient: {
          shade: 'light',
          type: "vertical",
          shadeIntensity: 0.3,
          inverseColors: false,
          opacityFrom: 0.85,
          opacityTo: 0.85,
          stops: [0, 90, 100]
        }
      },
      tooltip: {
        theme: 'light',
        y: {
          formatter: function(val) {
            return "R$ " + val.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2});
          }
        }
      },
      theme: {
        mode: 'light'
      },
      responsive: [{
        breakpoint: 768,
        options: {
          chart: {
            height: 300
          },
          plotOptions: {
            bar: {
              columnWidth: '70%'
            }
          },
          dataLabels: {
            style: {
              fontSize: '10px'
            }
          },
          xaxis: {
            labels: {
              style: {
                fontSize: '12px'
              }
            }
          },
          yaxis: {
            labels: {
              style: {
                fontSize: '10px'
              }
            }
          }
        }
      }]
    };

    var chart = new ApexCharts(document.querySelector("#chart"), options);
    chart.render();
  </script>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
