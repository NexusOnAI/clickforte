<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Previsão de Gastos - Abril</title>
  <!-- Tailwind CSS via CDN -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- ApexCharts via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <style>
    /* Garante que o gráfico se ajuste à largura disponível */
    #chart {
      max-width: 100%;
      margin: 0 auto;
    }
  </style>
</head>
<body class="bg-white text-gray-800">
  <div class="max-w-4xl mx-auto my-8 p-6 bg-white shadow-lg rounded-lg">
    <!-- Cabeçalho -->
    <h2 class="text-center text-2xl font-bold mb-6">Previsão de Gastos para Abril</h2>

    <!-- Gráfico Geral -->
    <div id="chart" class="mb-8"></div>

    <!-- Tabela de Detalhes -->
    <h3 class="text-center text-xl font-semibold mb-4">Detalhes das Semanas</h3>
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200 table-auto">
        <thead class="bg-gray-200">
          <tr>
            <th class="px-6 py-3 text-left text-gray-700 text-sm font-medium">Semana</th>
            <th class="px-6 py-3 text-left text-gray-700 text-sm font-medium">Período</th>
            <th class="px-6 py-3 text-right text-gray-700 text-sm font-medium">Valor</th>
            <th class="px-6 py-3 text-center text-gray-700 text-sm font-medium">Status</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100">
          <tr class="bg-white">
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">1ª Semana</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">01/04 a 04/04</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600 text-right">R$ 909.665,51</td>
            <td class="px-6 py-4 whitespace-nowrap text-center">
              <span class="inline-block px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full">Pago</span>
            </td>
          </tr>
          <tr class="bg-gray-50">
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">2ª Semana</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">05/04 a 11/04</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600 text-right">R$ 1.978.156,16</td>
            <td class="px-6 py-4 whitespace-nowrap text-center">
              <span class="inline-block px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-300 rounded-full">Em andamento</span>
            </td>
          </tr>
          <tr class="bg-white">
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">3ª Semana</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">12/04 a 18/04</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600 text-right">R$ 1.432.358,51</td>
            <td class="px-6 py-4 whitespace-nowrap text-center">
              <span class="inline-block px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-100 rounded-full">Aberto</span>
            </td>
          </tr>
          <tr class="bg-gray-50">
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">4ª Semana</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">19/04 a 25/04</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600 text-right">R$ 1.316.467,26</td>
            <td class="px-6 py-4 whitespace-nowrap text-center">
              <span class="inline-block px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-100 rounded-full">Aberto</span>
            </td>
          </tr>
          <tr class="bg-white">
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">5ª Semana</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600">26/04 a 30/04</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-600 text-right">R$ 410.857,05</td>
            <td class="px-6 py-4 whitespace-nowrap text-center">
              <span class="inline-block px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-100 rounded-full">Aberto</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Total Geral -->
    <div class="text-center mt-6 text-lg font-medium">
      Total Geral: R$ 5.615.717,22
    </div>
  </div>

  <script>
    // Dados para as semanas de Abril
    var dadosSemanal = [909665.51, 1978156.16, 1000571.24, 1432358.51, 410857.05];

    var options = {
      chart: {
        type: 'bar',
        height: 350,
        background: 'transparent',
        toolbar: { show: false }
      },
      plotOptions: {
        bar: {
          borderRadius: 8,
          horizontal: false,
          columnWidth: '50%',
          dataLabels: { position: 'top' }
        }
      },
      dataLabels: {
        enabled: true,
        formatter: function(val) {
          return "R$ " + val.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        },
        offsetY: -20,
        style: {
          fontSize: '12px',
          colors: ["#000"]
        }
      },
      series: [{
        name: 'Gastos',
        data: dadosSemanal
      }],
      xaxis: {
        categories: ['1ª Semana', '2ª Semana', '3ª Semana', '4ª Semana', '5ª Semana'],
        labels: {
          style: {
            fontSize: '14px',
            colors: ["#000"]
          }
        },
        axisBorder: { show: false },
        axisTicks: { show: false }
      },
      yaxis: {
        labels: {
          formatter: function(val) {
            return "R$ " + val.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
          },
          style: {
            fontSize: '12px',
            colors: ["#000"]
          }
        }
      },
      fill: {
        type: 'gradient',
        gradient: {
          shade: 'light',
          type: "vertical",
          shadeIntensity: 0.3,
          opacityFrom: 0.85,
          opacityTo: 0.85,
          stops: [0, 90, 100]
        }
      },
      tooltip: {
        theme: 'light',
        y: {
          formatter: function(val) {
            return "R$ " + val.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
          }
        }
      },
      theme: { mode: 'light' },
      responsive: [
        {
          breakpoint: 768,
          options: {
            chart: { height: 300 },
            plotOptions: { bar: { columnWidth: '70%' } },
            dataLabels: { style: { fontSize: '10px' } },
            xaxis: { labels: { style: { fontSize: '12px' } } },
            yaxis: { labels: { style: { fontSize: '10px' } } }
          }
        },
        {
          breakpoint: 576,
          options: {
            chart: { height: 250 },
            plotOptions: { bar: { columnWidth: '80%' } },
            dataLabels: { style: { fontSize: '8px' } },
            xaxis: { labels: { style: { fontSize: '10px' } } },
            yaxis: { labels: { style: { fontSize: '8px' } } }
          }
        }
      ]
    };

    // Renderiza o gráfico
    var chart = new ApexCharts(document.querySelector("#chart"), options);
    chart.render();
  </script>
</body>
</html>
